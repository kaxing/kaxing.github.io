<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>yshen.space</title>
    <style>
        body { display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .container { display: flex; width: 80%; height: 80%; position: relative; }
        .sidebar { width: 200px; padding: 10px; text-align: right; }
        .sidebar a { display: block; margin: 5px 0; text-decoration: none; }
        .sidebar .section { margin-top: 20px; font-weight: bold; }
        .content { flex-grow: 1; padding-left: 20px; position: relative; overflow: auto; }
        iframe, .text-content { width: 100%; height: 100%; border: none; position: relative; z-index: 1; }
        .text-content { white-space: pre-wrap; overflow: auto; }
        .hint { position: absolute; top: 15%; left: 7%; font-size: 18px; z-index: 0; }
        @media (max-width: 768px) {
            body::before {
                content: "This web site is not optimized for mobile devices yet. Please open from your computer. Sorry for the inconvenience. Thank you.";
                position: absolute; top: 35px; left: 50%; transform: translateX(-50%);
                background-color: #ffebcc; padding: 10px; font-size: 14px; color: #333;
                border: 1px solid #ffd580; border-radius: 5px; z-index: 999; text-align: center;
            }
            .container { display: none; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="section">Tools</div>
            <a href="./post-it.html" data-type="html">Post It</a>
            <a href="./test-keyboard.html" data-type="html">Test Keyboard</a>
            <div class="section">Boring stuff</div>
            <a href="./LICENSE" data-type="text">LICENSE</a>
        </div>
        <div class="content" id="content">
            <div class="hint">‚Üê Pick one</div>
        </div>
    </div>
    <script>
        document.querySelectorAll('.sidebar a').forEach(link => {
            link.addEventListener('click', function(event) {
                loadContent(event, this.href, this.getAttribute('data-type'));
            });
        });

        function loadContent(event, file, type) {
            if (event.shiftKey || event.ctrlKey || event.metaKey) return true; // Allow default behavior for new tab/window
            event.preventDefault();
            if (type === 'html') {
                document.getElementById('content').innerHTML = `<iframe src="${file}"></iframe>`;
            } else if (type === 'text') {
                fetch(file)
                    .then(response => {
                        if (!response.ok) throw new Error('Network response was not ok');
                        return response.text();
                    })
                    .then(data => {
                        document.getElementById('content').innerHTML = `<pre class="text-content">${data}</pre>`;
                    })
                    .catch(error => {
                        console.error('Error loading the file:', error);
                        document.getElementById('content').innerHTML = '<p>Error loading the content. Please try again.</p>';
                    });
            }
            return false;
        }
    </script>
</body>
</html>